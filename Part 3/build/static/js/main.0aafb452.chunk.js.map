{"version":3,"sources":["database.js","components/Notification.js","components/Person.js","components/Persons.js","components/FilterPerson.js","components/PersonForm.js","App.js","index.js"],"names":["get","axios","then","result","data","post","obj","response","update","id","put","remove","delete","Notification","message","className","type","Person","name","number","removePerson","onClick","window","confirm","Persons","persons","filtered","filter","person","toLowerCase","includes","map","key","FilterPerson","handleFilter","htmlFor","value","onChange","PersonForm","newPerson","addPerson","handleNewPerson","onSubmit","App","useEffect","database","setPersons","useState","setFiltered","setMessage","setNewPerson","handlePeople","findIndex","catch","showMessage","find","action","setTimeout","event","target","preventDefault","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0aafb452.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst BASE_URL = \"/api/persons\";\r\n\r\nconst get = () => {\r\n\tconst data = axios.get(BASE_URL);\r\n\treturn data.then(result => result.data);\r\n};\r\nconst post = obj => {\r\n\tconst data = axios.post(BASE_URL, obj);\r\n\treturn data.then(response => response.data);\r\n};\r\nconst update = (id, obj) => {\r\n\tconst data = axios.put(`${BASE_URL}/${id}`, obj);\r\n\treturn data.then(response => response.data);\r\n};\r\nconst remove = id => {\r\n\treturn axios.delete(`${BASE_URL}/${id}`);\r\n};\r\n\r\nexport default { get, post, update, remove };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n\tif (message === null) {\r\n\t\treturn null;\r\n\t}\r\n\tconst pickClass = () => {\r\n\t\treturn message.type === \"success\" ? \"success\" : \"error\";\r\n\t};\r\n\treturn (\r\n\t\t<div className={pickClass()}>\r\n\t\t\t<p>{message.message}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ name, number, id, removePerson }) => {\r\n\tconst remove = () => {\r\n\t\tif (\r\n\t\t\twindow.confirm(\r\n\t\t\t\t`Are you sure you want to remove ${name} from your contacts?`\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tremovePerson(id);\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{name}</td>\r\n\t\t\t<td>{number}</td>\r\n\t\t\t<td>\r\n\t\t\t\t<button onClick={remove}>Delete</button>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ persons, filtered, removePerson }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h2>People</h2>\r\n\t\t\t<table>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t<th>Number</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{filtered\r\n\t\t\t\t\t\t? persons\r\n\t\t\t\t\t\t\t\t.filter(person =>\r\n\t\t\t\t\t\t\t\t\tperson.name.toLowerCase().includes(filtered.toLowerCase())\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.map(person => (\r\n\t\t\t\t\t\t\t\t\t<Person\r\n\t\t\t\t\t\t\t\t\t\tid={person.id}\r\n\t\t\t\t\t\t\t\t\t\tkey={person.id}\r\n\t\t\t\t\t\t\t\t\t\tname={person.name}\r\n\t\t\t\t\t\t\t\t\t\tnumber={person.number}\r\n\t\t\t\t\t\t\t\t\t\tremovePerson={removePerson}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t: persons.map(person => (\r\n\t\t\t\t\t\t\t\t<Person\r\n\t\t\t\t\t\t\t\t\tid={person.id}\r\n\t\t\t\t\t\t\t\t\tkey={person.id}\r\n\t\t\t\t\t\t\t\t\tname={person.name}\r\n\t\t\t\t\t\t\t\t\tnumber={person.number}\r\n\t\t\t\t\t\t\t\t\tremovePerson={removePerson}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t  ))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst FilterPerson = ({ filtered, handleFilter }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<label htmlFor='filter'>Filter names: </label>\r\n\t\t\t<input type='text' id='filter' value={filtered} onChange={handleFilter} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default FilterPerson;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({ newPerson, addPerson, handleNewPerson }) => {\r\n\tconst { name, number } = newPerson;\r\n\treturn (\r\n\t\t<form onSubmit={addPerson}>\r\n\t\t\t<h2>Add new People</h2>\r\n\t\t\t<label htmlFor='name'>Name: </label>\r\n\t\t\t<input\r\n\t\t\t\tname='name'\r\n\t\t\t\tid='name'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={name}\r\n\t\t\t\tonChange={handleNewPerson}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t<label htmlFor='number'>Number: </label>\r\n\t\t\t<input\r\n\t\t\t\tid='number'\r\n\t\t\t\tname='number'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={number}\r\n\t\t\t\tonChange={handleNewPerson}\r\n\t\t\t/>\r\n\t\t\t<button>Submit</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import React, { useState, useEffect } from \"react\";\nimport database from \"./database\";\nimport Notification from \"./components/Notification\";\nimport Persons from \"./components/Persons\";\nimport FilterPerson from \"./components/FilterPerson\";\nimport PersonForm from \"./components/PersonForm\";\n\nfunction App() {\n\tuseEffect(() => {\n\t\tdatabase.get().then(response => setPersons(response));\n\t}, []);\n\tconst [filtered, setFiltered] = useState(\"\");\n\tconst [message, setMessage] = useState(null);\n\tconst [persons, setPersons] = useState([]);\n\tconst [newPerson, setNewPerson] = useState({ name: \"\", number: \"\" });\n\n\tconst handleNewPerson = event => {\n\t\tsetNewPerson({ ...newPerson, [event.target.name]: event.target.value });\n\t};\n\n\tconst handleFilter = event => {\n\t\tsetFiltered(event.target.value);\n\t};\n\n\tconst addPerson = event => {\n\t\tevent.preventDefault();\n\t\tif (newPerson.name === \"\" || newPerson.number === \"\") {\n\t\t\talert(\"Please input a name AND a number\");\n\t\t} else {\n\t\t\thandlePeople();\n\t\t}\n\n\t\tsetNewPerson({ name: \"\", number: \"\" });\n\t};\n\n\tconst removePerson = id => {\n\t\tdatabase\n\t\t\t.remove(id)\n\t\t\t.then(() =>\n\t\t\t\tshowMessage(\n\t\t\t\t\t\"success\",\n\t\t\t\t\t\"delete\",\n\t\t\t\t\tpersons.find(person => person.id === id)\n\t\t\t\t)\n\t\t\t)\n\t\t\t.catch(() =>\n\t\t\t\tshowMessage(\"error\", \"delete\", persons.find(person => person.id === id))\n\t\t\t);\n\t\tsetPersons(persons.filter(person => person.id !== id));\n\t};\n\n\tconst handlePeople = () => {\n\t\tif (persons.findIndex(person => person.name === newPerson.name) === -1) {\n\t\t\tdatabase\n\t\t\t\t.post(newPerson)\n\t\t\t\t.then(result => setPersons(result))\n\t\t\t\t.catch(() => showMessage(\"error\", \"add\", newPerson));\n\t\t\tshowMessage(\"success\", \"add\", newPerson);\n\t\t} else {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${newPerson.name} is already in the phonebook. Would You like to update their contact info?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tdatabase\n\t\t\t\t\t.update(\n\t\t\t\t\t\tpersons.find(person => person.name === newPerson.name).id,\n\t\t\t\t\t\tnewPerson\n\t\t\t\t\t)\n\t\t\t\t\t.then(result =>\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map(person =>\n\t\t\t\t\t\t\t\tperson.name === result.name ? result : person\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.catch(() => showMessage(\"error\", \"edit\", newPerson));\n\t\t\t\tshowMessage(\"success\", \"edit\", newPerson);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst showMessage = (type, action, person) => {\n\t\tif (type === \"success\") {\n\t\t\tif (action === \"add\") {\n\t\t\t\tsetMessage({\n\t\t\t\t\tmessage: `${person.name} has been added to the list`,\n\t\t\t\t\ttype\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null);\n\t\t\t\t}, 5000);\n\t\t\t} else if (action === \"edit\") {\n\t\t\t\tsetMessage({\n\t\t\t\t\tmessage: `Contact ${person.name} has been changed`,\n\t\t\t\t\ttype\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null);\n\t\t\t\t}, 5000);\n\t\t\t} else if (action === \"delete\") {\n\t\t\t\tsetMessage({\n\t\t\t\t\tmessage: `Contact ${person.name} has been removed from your contacts`,\n\t\t\t\t\ttype\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null);\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t} else if (type === \"error\") {\n\t\t\tif (action === \"add\") {\n\t\t\t\tsetMessage({\n\t\t\t\t\tmessage: `Something went worng. ${person.name} was not added`,\n\t\t\t\t\ttype\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null);\n\t\t\t\t}, 5000);\n\t\t\t} else if (action === \"edit\" || action === \"delete\") {\n\t\t\t\tsetMessage({\n\t\t\t\t\tmessage: `Information on ${person.name} has already been removed`,\n\t\t\t\t\ttype\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null);\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Notification message={message} />\n\t\t\t<FilterPerson filtered={filtered} handleFilter={handleFilter} />\n\t\t\t<PersonForm\n\t\t\t\tnewPerson={newPerson}\n\t\t\t\taddPerson={addPerson}\n\t\t\t\thandleNewPerson={handleNewPerson}\n\t\t\t/>\n\t\t\t<Persons\n\t\t\t\tfiltered={filtered}\n\t\t\t\tpersons={persons}\n\t\t\t\tremovePerson={removePerson}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}